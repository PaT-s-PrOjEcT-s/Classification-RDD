            { name: 'OFF!', category: 'Toxique', icon: '☠️', description: 'Chasse-moustiques DEET' },
            { name: 'Killex', category: 'Toxique', icon: '☠️', description: 'Herbicide pelouse' },
            { name: 'Baygon', category: 'Toxique', icon: '☠️', description: 'Insecticide domestique' },
            { name: 'Weed-B-Gon', category: 'Toxique', icon: '☠️', description: 'Herbicide sélectif' },
            { name: 'Anti-limace', category: 'Toxique', icon: '☠️', description: 'Molluscicide' },
            { name: 'Ant Trap', category: 'Toxique', icon: '☠️', description: 'Piège à fourmis' },
            { name: 'Roach Killer', category: 'Toxique', icon: '☠️', description: 'Insecticide coquerelles' },
            { name: 'Wasp Spray', category: 'Toxique', icon: '☠️', description: 'Insecticide guêpes' },
            { name: 'Slug-Geta', category: 'Toxique', icon: '☠️', description: 'Anti-limaces granules' },
            { name: 'Deadline', category: 'Toxique', icon: '☠️', description: 'Appât escargots' },
            { name: 'Warfarine', category: 'Toxique', icon: '☠️', description: 'Rodenticide anticoagulant' },
            { name: 'Méthanol', category: 'Toxique', icon: '☠️', description: 'Alcool méthylique' },
            { name: 'Formaldehyde', category: 'Toxique', icon: '☠️', description: 'Conservateur toxique' },
            { name: 'Pesticide 2,4-D', category: 'Toxique', icon: '☠️', description: 'Herbicide systémique' },
            { name: 'Malathion', category: 'Toxique', icon: '☠️', description: 'Insecticide organophosphoré' },
            { name: 'Sevin', category: 'Toxique', icon: '☠️', description: 'Insecticide carbaryl' },
            { name: 'Diazinon', category: 'Toxique', icon: '☠️', description: 'Insecticide organophosphoré' },
            { name: 'Chlordane', category: 'Toxique', icon: '☠️', description: 'Insecticide chloré' },
            { name: 'Dursban', category: 'Toxique', icon: '☠️', description: 'Insecticide chlorpyrifos' },
            { name: 'Spectracide', category: 'Toxique', icon: '☠️', description: 'Herbicide/insecticide' },
            { name: 'Ortho GroundClear', category: 'Toxique', icon: '☠️', description: 'Herbicide total' },
            { name: 'Bayer Advanced', category: 'Toxique', icon: '☠️', description: 'Insecticide systémique' },
            { name: 'Merit', category: 'Toxique', icon: '☠️', description: 'Insecticide imidaclopride' },
            { name: 'Tempo', category: 'Toxique', icon: '☠️', description: 'Insecticide cyfluthrine' },
            { name: 'Demon', category: 'Toxique', icon: '☠️', description: 'Insecticide cypermethrine' },
            { name: 'Cynoff', category: 'Toxique', icon: '☠️', description: 'Insecticide beta-cyfluthrine' },
            { name: 'Maxforce', category: 'Toxique', icon: '☠️', description: 'Appât gel insecticide' },
            { name: 'Combat', category: 'Toxique', icon: '☠️', description: 'Appât coquerelles' },
            { name: 'Hot Shot', category: 'Toxique', icon: '☠️', description: 'Insecticide fourmis' },
            { name: 'Terro', category: 'Toxique', icon: '☠️', description: 'Appât liquide fourmis' },
            { name: 'Amdro', category: 'Toxique', icon: '☠️', description: 'Appât fourmis extérieur' },
            { name: 'Grant\'s Ant Stakes', category: 'Toxique', icon: '☠️', description: 'Pièges à fourmis' },
            { name: 'Ortho Home Defense', category: 'Toxique', icon: '☠️', description: 'Insecticide périmètre' },
            { name: 'Bengal Roach Spray', category: 'Toxique', icon: '☠️', description: 'Aérosol anti-coquerelles' },
            { name: 'Boric Acid', category: 'Toxique', icon: '☠️', description: 'Acide borique insecticide' },
            { name: 'Borax', category: 'Toxique', icon: '☠️', description: 'Tétraborate de sodium' },
            { name: 'Decon', category: 'Toxique', icon: '☠️', description: 'Appât rodenticide' },
            { name: 'D-Con', category: 'Toxique', icon: '☠️', description: 'Poison souris et rats' },
            { name: 'Just One Bite', category: 'Toxique', icon: '☠️', description: 'Appât brodifacoum' },
            { name: 'Havoc', category: 'Toxique', icon: '☠️', description: 'Rodenticide brodifacoum' },
            { name: 'Final', category: 'Toxique', icon: '☠️', description: 'Appât brodifacoum' },
            { name: 'Talon', category: 'Toxique', icon: '☠️', description: 'Rodenticide brodifacoum' },
            { name: 'Generation', category: 'Toxique', icon: '☠️', description: 'Appât difethialone' },
            { name: 'FirstStrike', category: 'Toxique', icon: '☠️', description: 'Appât difethialone' },

            // PEINTURES (40 exemples)
            { name: 'Peinture latex', category: 'Peinture', icon: '🎨', description: 'Peinture à base d\'eau' },
            { name: 'Peinture alkyde', category: 'Peinture', icon: '🎨', description: 'Peinture à l\'huile' },
            { name: 'Benjamin Moore', category: 'Peinture', icon: '🎨', description: 'Peinture murale' },
            { name: 'Primer', category: 'Peinture', icon: '🎨', description: 'Apprêt pour peinture' },
            { name: 'Teinture à bois', category: 'Peinture', icon: '🎨', description: 'Colorant pour bois' },
            { name: 'Sherwin Williams', category: 'Peinture', icon: '🎨', description: 'Peinture architecturale' },
            { name: 'Dulux', category: 'Peinture', icon: '🎨', description: 'Peinture décorative' },
            { name: 'Behr', category: 'Peinture', icon: '🎨', description: 'Peinture Home Depot' },
            { name: 'Minwax', category: 'Peinture', icon: '🎨', description: 'Teinture et vernis bois' },
            { name: 'Varathane', category: 'Peinture', icon: '🎨', description: 'Vernis polyuréthane' },
            { name: 'Zinsser', category: 'Peinture', icon: '🎨', description: 'Apprêt spécialisé' },
            { name: 'Killz', category: 'Peinture', icon: '🎨', description: 'Apprêt bloquant' },
            { name: 'Tremclad', category: 'Peinture', icon: '🎨', description: 'Peinture antirouille' },
            { name: 'Rust-Oleum', category: 'Peinture', icon: '🎨', description: 'Peinture métaux' },
            { name: 'Krylon', category: 'Peinture', icon: '🎨', description: 'Peinture en aérosol' },
            { name: 'Vernis marin', category: 'Peinture', icon: '🎨', description: 'Protection bois extérieur' },
            { name: 'Laque', category: 'Peinture', icon: '🎨', description: 'Finition brillante' },
            { name: 'Émail', category: 'Peinture', icon: '🎨', description: 'Peinture dure brillante' },
            { name: 'Sico', category: 'Peinture', icon: '🎨', description: 'Peinture décorative' },
            { name: 'Para Paints', category: 'Peinture', icon: '🎨', description: 'Peinture architecturale' },
            { name: 'Cloverdale', category: 'Peinture', icon: '🎨', description: 'Peinture canadienne' },
            { name: 'Beauti-Tone', category: 'Peinture', icon: '🎨', description: 'Peinture résidentielle' },
            { name: 'CIL', category: 'Peinture', icon: '🎨', description: 'Peinture et teinture' },
            { name: 'Olympic', category: 'Peinture', icon: '🎨', description: 'Teinture extérieure' },
            { name: 'Thompson\'s WaterSeal', category: 'Peinture', icon: '🎨', description: 'Scellant imperméabilisant' },
            { name: 'Sikkens', category: 'Peinture', icon: '🎨', description: 'Teinture haut de gamme' },
            { name: 'Cabot', category: 'Peinture', icon: '🎨', description: 'Teinture bois extérieur' },
            { name: 'Penofin', category: 'Peinture', icon: '🎨', description: 'Teinture pénétrante' },
            { name: 'Flood', category: 'Peinture', icon: '🎨', description: 'Teinture et scellant' },
            { name: 'TWP', category: 'Peinture', icon: '🎨', description: 'Teinture semi-transparente' },
            { name: 'Ready Seal', category: 'Peinture', icon: '🎨', description: 'Teinture et scellant' },
            { name: 'Watco', category: 'Peinture', icon: '🎨', description: 'Finition bois danoise' },
            { name: 'Tung Oil', category: 'Peinture', icon: '🎨', description: 'Huile de tung pure' },
            { name: 'Linseed Oil', category: 'Peinture', icon: '🎨', description: 'Huile de lin bouillie' },
            { name: 'Shellac', category: 'Peinture', icon: '🎨', description: 'Vernis naturel gomme laque' },
            { name: 'Lacquer Thinner', category: 'Peinture', icon: '🎨', description: 'Diluant à laque' },
            { name: 'Paint Stripper', category: 'Peinture', icon: '🎨', description: 'Décapant chimique' },
            { name: 'Citristrip', category: 'Peinture', icon: '🎨', description: 'Décapant à base d\'agrumes' },
            { name: 'Klean-Strip', category: 'Peinture', icon: '🎨', description: 'Décapant peinture' },
            { name: 'Jasco', category: 'Peinture', icon: '🎨', description: 'Décapant et solvants' },

            // HUILES (40 exemples)
            { name: 'Huile moteur', category: 'Huiles', icon: '🛢️', description: 'Lubrifiant automobile' },
            { name: 'WD-40', category: 'Huiles', icon: '🛢️', description: 'Dégrippant lubrifiant' },
            { name: 'Castrol', category: 'Huiles', icon: '🛢️', description: 'Huile moteur synthétique' },
            { name: 'Mobil 1', category: 'Huiles', icon: '🛢️', description: 'Huile synthétique haute performance' },
            { name: 'Valvoline', category: 'Huiles', icon: '🛢️', description: 'Huile moteur conventionnelle' },
            { name: 'Quaker State', category: 'Huiles', icon: '🛢️', description: 'Lubrifiant automobile' },
            { name: 'Lucas Oil', category: 'Huiles', icon: '🛢️', description: 'Additif huile moteur' },
            { name: 'Liquid Wrench', category: 'Huiles', icon: '🛢️', description: 'Dégrippant pénétrant' },
            { name: 'CRC', category: 'Huiles', icon: '🛢️', description: 'Lubrifiant industriel' },
            { name: '3-en-1', category: 'Huiles', icon: '🛢️', description: 'Huile multiusage' },
            { name: 'Huile hydraulique', category: 'Huiles', icon: '🛢️', description: 'Fluide de transmission' },
            { name: 'Huile de transmission', category: 'Huiles', icon: '🛢️', description: 'Fluide de boîte de vitesses' },
            { name: 'Huile de coupe', category: 'Huiles', icon: '🛢️', description: 'Fluide d\'usinage' },
            { name: 'Huile compresseur', category: 'Huiles', icon: '🛢️', description: 'Lubrifiant pneumatique' },
            { name: 'Graisse au lithium', category: 'Huiles', icon: '🛢️', description: 'Graisse multi-usage' },
            { name: 'Huile 2-temps', category: 'Huiles', icon: '🛢️', description: 'Mélange moteur petit équipement' },
            { name: 'Pennzoil', category: 'Huiles', icon: '🛢️', description: 'Huile moteur conventionnelle' },
            { name: 'Shell Rotella', category: 'Huiles', icon: '🛢️', description: 'Huile diesel' },
            { name: 'Chevron Delo', category: 'Huiles', icon: '🛢️', description: 'Huile poids lourd' },
            { name: 'Total Quartz', category: 'Huiles', icon: '🛢️', description: 'Huile synthétique européenne' },
            { name: 'Motul', category: 'Huiles', icon: '🛢️', description: 'Huile haute performance' },
            { name: 'Royal Purple', category: 'Huiles', icon: '🛢️', description: 'Huile synthétique premium' },
            { name: 'Amsoil', category: 'Huiles', icon: '🛢️', description: 'Huile synthétique longue durée' },
            { name: 'Red Line Oil', category: 'Huiles', icon: '🛢️', description: 'Huile de course' },
            { name: 'Brad Penn', category: 'Huiles', icon: '🛢️', description: 'Huile paraffinique' },
            { name: 'Joe Gibbs Driven', category: 'Huiles', icon: '🛢️', description: 'Huile racing' },
            { name: 'Liqui Moly', category: 'Huiles', icon: '🛢️', description: 'Additifs allemands' },
            { name: 'Marvel Mystery Oil', category: 'Huiles', icon: '🛢️', description: 'Additif moteur vintage' },
            { name: 'Sea Foam', category: 'Huiles', icon: '🛢️', description: 'Nettoyant système carburant' },
            { name: 'Techron', category: 'Huiles', icon: '🛢️', description: 'Nettoyant injecteurs' },
            { name: 'STP', category: 'Huiles', icon: '🛢️', description: 'Additifs performance' },
            { name: 'Slick 50', category: 'Huiles', icon: '🛢️', description: 'Additif PTFE' },
            { name: 'ATF', category: 'Huiles', icon: '🛢️', description: 'Fluide transmission automatique' },
            { name: 'Power Steering Fluid', category: 'Huiles', icon: '🛢️', description: 'Fluide direction assistée' },
            { name: 'Brake Fluid', category: 'Huiles', icon: '🛢️', description: 'Liquide de frein DOT' },
            { name: 'Coolant', category: 'Huiles', icon: '🛢️', description: 'Liquide de refroidissement' },
            { name: 'Radiator Flush', category: 'Huiles', icon: '🛢️', description: 'Nettoyant système refroidissement' },
            { name: 'Bar\'s Leaks', category: 'Huiles', icon: '🛢️', description: 'Colmatant fuites radiateur' },
            { name: 'Stop Leak', category: 'Huiles', icon: '🛢️', description: 'Colmatant fuites moteur' },
            { name: 'Engine Restore', category: 'Huiles', icon: '🛢️', description: 'Restaurateur moteur' },

            // ORGANIQUES (40 exemples)
            { name: 'Acétone', category: 'Organique', icon: '🧴', description: 'Dissolvant pour vernis' },
            { name: 'Essence minérale', category: 'Organique', icon: '🧴', description: 'Solvant pour peinture' },
            { name: 'Térébenthine', category: 'Organique', icon: '🧴', description: 'Diluant naturel' },
            { name: 'Toluène', category: 'Organique', icon: '🧴', description: 'Solvant industriel' },
            { name: 'Xylène', category: 'Organique', icon: '🧴', description: 'Diluant peinture' },
            { name: 'MEK', category: 'Organique', icon: '🧴', description: 'Méthyl éthyl cétone' },
            { name: 'Alcool isopropylique', category: 'Organique', icon: '🧴', description: 'Alcool à friction' },
            { name: 'Éthanol', category: 'Organique', icon: '🧴', description: 'Alcool éthylique' },
            { name: 'Chloroforme', category: 'Organique', icon: '🧴', description: 'Solvant chloré' },
            { name: 'Dichlorométhane', category: 'Organique', icon: '🧴', description: 'Décapant peinture' },
            { name: 'White Spirit', category: 'Organique', icon: '🧴', description: 'Solvant pétrolier' },
            { name: 'Butanol', category: 'Organique', icon: '🧴', description: 'Alcool butylique' },
            { name: 'Glycol', category: 'Organique', icon: '🧴', description: 'Solvant polyol' },
            { name: 'Freon', category: 'Organique', icon: '🧴', description: 'Réfrigérant CFC' },
            { name: 'Carb Cleaner', category: 'Organique', icon: '🧴', description: 'Nettoyant carburateur' },
            { name: 'Brake Cleaner', category: 'Organique', icon: '🧴', description: 'Nettoyant freins' },
            { name: 'Contact Cleaner', category: 'Organique', icon: '🧴', description: 'Nettoyant électronique' },
            { name: 'Degreaser', category: 'Organique', icon: '🧴', description: 'Dégraissant industriel' },
            { name: 'Gunk Engine Degreaser', category: 'Organique', icon: '🧴', description: 'Dégraissant moteur' },
            { name: 'Simple Green Pro HD', category: 'Organique', icon: '🧴', description: 'Dégraissant professionnel' },
            { name: 'Purple Power', category: 'Organique', icon: '🧴', description: 'Dégraissant concentré' },
            { name: 'Castrol Super Clean', category: 'Organique', icon: '🧴', description: 'Dégraissant automobile' },
            { name: 'Gumout', category: 'Organique', icon: '🧴', description: 'Nettoyant carburateur' },
            { name: 'Berryman', category: 'Organique', icon: '🧴', description: 'Nettoyants carburant' },
            { name: 'CRC QD Electronic Cleaner', category: 'Organique', icon: '🧴', description: 'Nettoyant électronique' },
            { name: 'WD-40 Specialist', category: 'Organique', icon: '🧴', description: 'Nettoyant contact' },
            { name: 'Alcohol 99%', category: 'Organique', icon: '🧴', description: 'Isopropanol pur' },
            { name: 'Denatured Alcohol', category: 'Organique', icon: '🧴', description: 'Alcool dénaturé' },
            { name: 'Methanol', category: 'Organique', icon: '🧴', description: 'Alcool méthylique' },
            { name: 'Ethyl Acetate', category: 'Organique', icon: '🧴', description: 'Solvant acétate' },
            { name: 'Butyl Acetate', category: 'Organique', icon: '🧴', description: 'Solvant ester' },
            { name: 'MIBK', category: 'Organique', icon: '🧴', description: 'Méthyl isobutyl cétone' },
            { name: 'Cyclohexane', category: 'Organique', icon: '🧴', description: 'Solvant cyclique' },
            { name: 'Heptane', category: 'Organique', icon: '🧴', description: 'Solvant aliphatique' },
            { name: 'Benzene', category: 'Organique', icon: '🧴', description: 'Solvant aromatique' },
            { name: 'Styrene', category: 'Organique', icon: '🧴', description: 'Monomère plastique' },
            { name: 'Vinyl Chloride', category: 'Organique', icon: '🧴', description: 'Monomère PVC' },
            { name: 'Formaldehyde Solution', category: 'Organique', icon: '🧴', description: 'Solution formaline' },
            { name: 'Phenol', category: 'Organique', icon: '🧴', description: 'Acide carbolique' },
            { name: 'Cresol', category: 'Organique', icon: '🧴', description: 'Méthylphénol' },

            // COMBUSTIBLES (30 exemples)
            { name: 'Essence', category: 'Combustible', icon: '⛽', description: 'Carburant automobile' },
            { name: 'Diesel', category: 'Combustible', icon: '⛽', description: 'Gazole' },
            { name: 'Propane', category: 'Combustible', icon: '⛽', description: 'Gaz de pétrole liquéfié' },
            { name: 'Kérosène', category: 'Combustible', icon: '⛽', description: 'Combustible de chauffage' },
            { name: 'Naphta', category: 'Combustible', icon: '⛽', description: 'Solvant pétrolier' },
            { name: 'Mazout', category: 'Combustible', icon: '⛽', description: 'Fuel oil domestique' },
            { name: 'Butane', category: 'Combustible', icon: '⛽', description: 'Gaz combustible' },
            { name: 'Éthanol carburant', category: 'Combustible', icon: '⛽', description: 'Biocarburant E85' },
            { name: 'Jet fuel', category: 'Combustible', icon: '⛽', description: 'Carburant aviation' },
            { name: 'Coleman fuel', category: 'Combustible', icon: '⛽', description: 'Combustible camping' },
            { name: 'Alcool à brûler', category: 'Combustible', icon: '⛽', description: 'Combustible fondue' },
            { name: 'Huile à lamp', category: 'Combustible', icon: '⛽', description: 'Combustible éclairage' },
            { name: 'Essence blanche', category: 'Combustible', icon: '⛽', description: 'Naphta léger' },
            { name: 'Charcoal lighter', category: 'Combustible', icon: '⛽', description: 'Allume-charbon' },
            { name: 'Starter fluid', category: 'Combustible', icon: '⛽', description: 'Fluide de démarrage' },
            { name: 'Zippo fluid', category: 'Combustible', icon: '⛽', description: 'Essence à briquet' },
            { name: 'Ronsonol', category: 'Combustible', icon: '⛽', description: 'Combustible briquet' },
            { name: 'Fuel Oil #1', category: 'Combustible', icon: '⛽', description: 'Mazout léger' },
            { name: 'Fuel Oil #2', category: 'Combustible', icon: '⛽', description: 'Mazout domestique' },
            { name: 'Marine Gas Oil', category: 'Combustible', icon: '⛽', description: 'Gazole marin' },
            { name: 'Aviation Gas', category: 'Combustible', icon: '⛽', description: 'Essence aviation' },
            { name: 'Racing Fuel', category: 'Combustible', icon: '⛽', description: 'Carburant course' },
            { name: 'Methanol Fuel', category: 'Combustible', icon: '⛽', description: 'Carburant méthanol' },
            { name: 'Nitromethane', category: 'Combustible', icon: '⛽', description: 'Carburant dragster' },
            { name: 'Tiki Torch Fuel', category: 'Combustible', icon: '⛽', description: 'Combustible torche' },
            { name: 'Lamp Oil', category: 'Combustible', icon: '⛽', description: 'Huile à lampe' },
            { name: 'Citronella Oil', category: 'Combustible', icon: '⛽', description: 'Huile citronnelle combustible' },
            { name: 'Fondue Fuel', category: 'Combustible', icon: '⛽', description: 'Combustible gel fondue' },
            { name: 'Sterno', category: 'Combustible', icon: '⛽', description: 'Combustible gel chauffage' },
            { name: 'Fire Starter', category: 'Combustible', icon: '⛽', description: 'Allume-feu liquide' },

            // COMBURANTS/OXYDANTS (20 exemples)
            { name: 'Peroxyde d\'hydrogène', category: 'Oxydant', icon: '💥', description: 'Eau oxygénée concentrée' },
            { name: 'Chlore piscine', category: 'Comburants', icon: '💥', description: 'Pastilles de chlore' },
            { name: 'HTH', category: 'Comburants', icon: '💥', description: 'Hypochlorite de calcium' },
            { name: 'Pool Shock', category: 'Comburants', icon: '💥', description: 'Choc chloré piscine' },
            { name: 'Algicide', category: 'Comburants', icon: '💥', description: 'Anti-algues piscine' },
            { name: 'Bromine', category: 'Comburants', icon: '💥', description: 'Désinfectant spa' },
            { name: 'Oxyclean', category: 'Oxydant', icon: '💥', description: 'Détachant oxygéné' },
            { name: 'Clorox 2', category: 'Oxydant', icon: '💥', description: 'Javellisant coloré' },
            { name: 'Pool Perfect', category: 'Comburants', icon: '💥', description: 'Clarifiant piscine' },
            { name: 'Calcium hypochlorite', category: 'Comburants', icon: '💥', description: 'Désinfectant industriel' },
            { name: 'Super Shock', category: 'Comburants', icon: '💥', description: 'Chlore choc granulaire' },
            { name: 'Lithium Hypochlorite', category: 'Comburants', icon: '💥', description: 'Choc piscine sans calcium' },
            { name: 'Dichloroisocyanurate', category: 'Comburants', icon: '💥', description: 'Chlore stabilisé' },
            { name: 'Sodium Hypochlorite', category: 'Comburants', icon: '💥', description: 'Eau de javel liquide' },
            { name: 'Potassium Monopersulfate', category: 'Oxydant', icon: '💥', description: 'Oxydant spa sans chlore' },
            { name: 'Hydrogen Peroxide 35%', category: 'Oxydant', icon: '💥', description: 'Peroxyde concentré' },
            { name: 'Sodium Percarbonate', category: 'Oxydant', icon: '💥', description: 'Javellisant oxygéné' },
            { name: 'Potassium Permanganate', category: 'Oxydant', icon: '💥', description: 'Oxydant puissant' },
            { name: 'Chlorine Dioxide', category: 'Comburants', icon: '💥', description: 'Désinfectant gazeux' },
            { name: 'TCCA', category: 'Comburants', icon: '💥', description: 'Acide trichloroisocyanurique' }
        ];

        // Variables globales
        let customProducts = [];
        let isSearching = false;
        let selectedProduct = null;

        // Styles des catégories
        const categoryStyles = {
            'Acide': { bgColor: '#fef2f2', borderColor: '#dc2626', badgeColor: '#dc2626' },
            'Base': { bgColor: '#eff6ff', borderColor: '#2563eb', badgeColor: '#2563eb' },
            'Comburants': { bgColor: '#fff7ed', borderColor: '#ea580c', badgeColor: '#ea580c' },
            'Oxydant': { bgColor: '#fefce8', borderColor: '#eab308', badgeColor: '#eab308' },
            'Toxique': { bgColor: '#faf5ff', borderColor: '#7c3aed', badgeColor: '#7c3aed' },
            'Peinture': { bgColor: '#f0fdf4', borderColor: '#059669', badgeColor: '#059669' },
            'Huiles': { bgColor: '#f9fafb', borderColor: '#4b5563', badgeColor: '#4b5563' },
            'Organique': { bgColor: '#f0fdfa', borderColor: '#0d9488', badgeColor: '#0d9488' },
            'Combustible': { bgColor: '#fef2f2', borderColor: '#dc2626', badgeColor: '#dc2626' }
        };

        const categoryIcons = {
            'Acide': '🧪', 'Base': '🥽', 'Comburants': '💥', 'Oxydant': '💥',
            'Toxique': '☠️', 'Peinture': '🎨', 'Huiles': '🛢️',
            'Organique': '🧴', 'Combustible': '⛽'
        };

        const categoryDescriptions = {
            'Acide': 'Substances corrosives acides',
            'Base': 'Substances corrosives basiques',
            'Comburants': 'Substances favorisant la combustion',
            'Oxydant': 'Agents oxydants',
            'Toxique': 'Substances toxiques et vénéneuses',
            'Peinture': 'Peintures et solvants associés',
            'Huiles': 'Huiles usagées et lubrifiants',
            'Organique': 'Solvants organiques',
            'Combustible': 'Liquides inflammables'
        };

        // Fonctions utilitaires
        function getAllProducts() {
            return [...productsDatabase, ...customProducts];
        }

        function updateCounts() {
            const total = getAllProducts().length;
            document.getElementById('defaultCount').textContent = productsDatabase.length;
            document.getElementById('customCount').textContent = customProducts.length;
            document.getElementById('totalCount').textContent = total;
            document.getElementById('footerTotal').textContent = total;
        }

        function getCategoryCounts() {
            const counts = {};
            getAllProducts().forEach(product => {
                counts[product.category] = (counts[product.category] || 0) + 1;
            });
            return counts;
        }

        function classifyProduct(productName, description) {
            const text = `${productName} ${description}`.toLowerCase();
            const keywords = {
                'Acide': ['acide', 'muriatique', 'détartrant', 'clr', 'lime away', 'vinaigre'],
                'Base': ['javel', 'javex', 'ammoniaque', 'soude', 'caustique', 'drano'],
                'Comburants': ['chlore', 'hypochlorite', 'bromine', 'hth', 'shock', 'piscine'],
                'Oxydant': ['peroxyde', 'oxygéné', 'oxyclean', 'clorox 2'],
                'Toxique': ['pesticide', 'herbicide', 'insecticide', 'roundup', 'raid', 'poison'],
                'Peinture': ['peinture', 'latex', 'alkyde', 'primer', 'teinture', 'vernis'],
                'Huiles': ['huile', 'lubrifiant', 'wd-40', 'graisse', 'moteur'],
                'Organique': ['acétone', 'solvant', 'térébenthine', 'toluène', 'alcool'],
                'Combustible': ['essence', 'diesel', 'propane', 'carburant', 'combustible']
            };

            let bestMatch = 'Toxique';
            let maxScore = 0;

            Object.entries(keywords).forEach(([category, words]) => {
                const score = words.reduce((acc, word) => acc + (text.includes(word) ? 1 : 0), 0);
                if (score > maxScore) {
                    maxScore = score;
                    bestMatch = category;
                }
            });

            return bestMatch;
        }

        // Fonctions principales
        function handleSearch() {
            const searchInput = document.getElementById('searchInput');
            const searchTerm = searchInput.value.trim();
            const suggestionsDiv = document.getElementById('suggestions');
            const autoSearchBtn = document.getElementById('autoSearchBtn');

            if (searchTerm.length > 0) {
                const filtered = getAllProducts().filter(product =>
                    product.name.toLowerCase().includes(searchTerm.toLowerCase())
                ).slice(0, 5);

                if (filtered.length > 0) {
                    showSuggestions(filtered);
                    autoSearchBtn.classList.add('hidden');
                } else if (searchTerm.length > 2) {
                    suggestionsDiv.classList.add('hidden');
                    autoSearchBtn.classList.remove('hidden');
                } else {
                    suggestionsDiv.classList.add('hidden');
                    autoSearchBtn.classList.add('hidden');
                }
            } else {
                suggestionsDiv.classList.add('hidden');
                autoSearchBtn.classList.add('hidden');
            }
        }

        function showSuggestions(products) {
            const suggestionsDiv = document.getElementById('suggestions');
            suggestionsDiv.innerHTML = products.map(product => `
                <div class="suggestion-item" onclick="selectProduct(${JSON.stringify(product).replace(/"/g, '&quot;')})">
                    <div class="suggestion-content">
                        <div class="suggestion-icon">${product.icon}</div>
                        <div class="suggestion-info">
                            <div class="suggestion-name">${product.name}</div>
                            <div class="suggestion-desc">${product.description}</div>
                            <div class="suggestion-category category-${product.category.toLowerCase()}">${product.category}</div>
                        </div>
                    </div>
                </div>
            `).join('');
            suggestionsDiv.classList.remove('hidden');
        }

        function selectProduct(product) {
            selectedProduct = product;
            document.getElementById('searchInput').value = product.name;
            document.getElementById('suggestions').classList.add('hidden');
            document.getElementById('autoSearchBtn').classList.add('hidden');
            showSelectedProduct(product);
        }

        function showSelectedProduct(product) {
            const style = categoryStyles[product.category];
            const selectedDiv = document.getElementById('selectedProduct');
            
            selectedDiv.innerHTML = `
                <div class="product-card">
                    <div class="product-header">
                        <div class="product-icon">${product.icon}</div>
                        <div class="product-info">
                            <h3>${product.name}</h3>
                            <p>${product.description}</p>
                            ${product.source === 'auto-added' ? '<span style="background: #dcfce7; color: #166534; font-size: 0.75rem; padding: 0.125rem 0.5rem; border-radius: 9999px; margin-top: 0.25rem; display: inline-block;">✨ Ajouté automatiquement</span>' : ''}
                        </div>
                    </div>
                    <div class="classification-box">
                        <div class="classification-header">
                            <span>📊</span>
                            <span>Classification RDD:</span>
                        </div>
                        <div class="classification-badge" style="background: ${style.badgeColor}">
                            📍 ${product.category}
                        </div>
                        <div class="classification-desc">
                            ${categoryDescriptions[product.category]}
                        </div>
                        <div class="instructions-box">
                            <div class="instructions-title">💡 Instructions de disposition:</div>
                            <div class="instructions-text">
                                Apportez ce produit à un écocentre ou point de collecte de résidus domestiques dangereux. 
                                Ne pas jeter aux ordures ménagères ou à l'égout.
                            </div>
                        </div>
                    </div>
                </div>
            `;
            selectedDiv.classList.remove('hidden');
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                const searchTerm = document.getElementById('searchInput').value.trim();
                if (searchTerm) {
                    const allProducts = getAllProducts();
                    const exactMatch = allProducts.find(product => 
                        product.name.toLowerCase() === searchTerm.toLowerCase()
                    );
                    
                    if (exactMatch) {
                        selectProduct(exactMatch);
                    } else {
                        const suggestions = allProducts.filter(product =>
                            product.name.toLowerCase().includes(searchTerm.toLowerCase())
                        );
                        
                        if (suggestions.length > 0) {
                            selectProduct(suggestions[0]);
                        } else {
                            autoSearch();
                        }
                    }
                }
            }
        }

        function autoSearch() {
            const searchTerm = document.getElementById('searchInput').value.trim();
            if (!searchTerm || isSearching) return;

            isSearching = true;
            document.getElementById('searchingFor').textContent = searchTerm;
            document.getElementById('loadingIndicator').classList.remove('hidden');
            document.getElementById('autoSearchBtn').classList.add('hidden');

            // Simulation de recherche en ligne
            setTimeout(() => {
                const category = classifyProduct(searchTerm, 'produit chimique');
                const newProduct = {
                    name: searchTerm,
                    category: category,
                    description: 'Produit recherché en ligne',
                    icon: categoryIcons[category],
                    source: 'auto-added'
                };

                customProducts.push(newProduct);
                selectProduct(newProduct);
                updateCounts();
                renderCategories();

                document.getElementById('loadingIndicator').classList.add('hidden');
                isSearching = false;
            }, 2000);
        }

        function toggleAdmin() {
            const panel = document.getElementById('adminPanel');
            panel.classList.toggle('hidden');
        }

        function toggleAddProduct() {
            const form = document.getElementById('addProductForm');
            form.classList.toggle('hidden');
        }

        function addProduct() {
            const name = document.getElementById('newProductName').value.trim();
            const category = document.getElementById('newProductCategory').value;
            const description = document.getElementById('newProductDesc').value.trim();

            if (!name || !description) {
                alert('Veuillez remplir tous les champs obligatoires');
                return;
            }

            const newProduct = {
                name: name,
                category: category,
                description: description,
                icon: categoryIcons[category]
            };

            customProducts.push(newProduct);
            updateCounts();
            renderCategories();

            // Reset form
            document.getElementById('newProductName').value = '';
            document.getElementById('newProductDesc').value = '';
            toggleAddProduct();

            alert('Produit ajouté avec succès !');
        }

        function exportDatabase() {
            const dataToExport = {
                customProducts: customProducts,
                exportDate: new Date().toISOString(),
                version: '1.0'
            };

            const dataStr = JSON.stringify(dataToExport, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `classification-rdd-pats-projects-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
        }

        function importDatabase(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = (e) => {
                try {
                    const importedData = JSON.parse(e.target.result);
                    if (importedData.customProducts && Array.isArray(importedData.customProducts)) {
                        customProducts.push(...importedData.customProducts);
                        updateCounts();
                        renderCategories();
                        alert(`${importedData.customProducts.length} produits importés avec succès !`);
                    } else {
                        alert('Format de fichier invalide');
                    }
                } catch (error) {
                    alert('Erreur lors de l\'importation du fichier');
                }
            };
            reader.readAsText(file);
            event.target.value = '';
        }

        function renderCategories() {
            const container = document.getElementById('categoriesContainer');
            const counts = getCategoryCounts();

            container.innerHTML = Object.entries(categoryStyles).map(([category, style]) => `
                <div class="category-card" style="background: ${style.bgColor}; border-left-color: ${style.borderColor};">
                    <div class="category-content">
                        <div class="category-icon-container" style="background: ${style.badgeColor};">
                            ${categoryIcons[category]}
                        </div>
                        <div class="category-details">
                            <h3 style="color: ${style.borderColor};">${category}</h3>
                            <p>${categoryDescriptions[category]}</p>
                            <div class="category-count">${counts[category] || 0} produits</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            updateCounts();
            renderCategories();
        });
    </script>
</body>
</html><!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classification RDD par PaT's_PrOjEcT's</title>
    <meta name="description" content="Application de classification des résidus domestiques dangereux">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f9fafb;
            color: #111827;
        }
        
        .app-container {
            max-width: 448px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        .header {
            background: linear-gradient(135deg, #059669, #047857);
            color: white;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 1.25rem;
            font-weight: bold;
            margin-bottom: 0.25rem;
        }
        
        .header .subtitle {
            font-size: 0.75rem;
            opacity: 0.9;
        }
        
        .header .description {
            font-size: 0.875rem;
            opacity: 0.8;
        }
        
        .admin-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 0.875rem;
            transition: background 0.2s;
        }
        
        .admin-btn:hover {
            background: rgba(255,255,255,0.3);
        }
        
        .search-section {
            padding: 1rem;
            background: #f9fafb;
        }
        
        .search-container {
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 2px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: border-color 0.2s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #059669;
            box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1);
        }
        
        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
            width: 20px;
            height: 20px;
        }
        
        .auto-search-btn {
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            background: #3b82f6;
            color: white;
            border: none;
            padding: 0.5rem 0.75rem;
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 0.875rem;
            transition: background 0.2s;
        }
        
        .auto-search-btn:hover {
            background: #2563eb;
        }
        
        .auto-search-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }
        
        .suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            margin-top: 0.25rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            z-index: 10;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .suggestion-item {
            padding: 0.75rem;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
            transition: background 0.2s;
        }
        
        .suggestion-item:hover {
            background: #f9fafb;
        }
        
        .suggestion-item:last-child {
            border-bottom: none;
        }
        
        .suggestion-content {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .suggestion-icon {
            font-size: 1.5rem;
        }
        
        .suggestion-info {
            flex: 1;
        }
        
        .suggestion-name {
            font-weight: 500;
            margin-bottom: 0.25rem;
        }
        
        .suggestion-desc {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 0.25rem;
        }
        
        .suggestion-category {
            display: inline-block;
            font-size: 0.75rem;
            padding: 0.125rem 0.5rem;
            border-radius: 9999px;
            color: white;
            font-weight: 500;
        }
        
        .category-acid { background: #dc2626; }
        .category-base { background: #2563eb; }
        .category-comburants { background: #ea580c; }
        .category-oxydant { background: #eab308; }
        .category-toxique { background: #7c3aed; }
        .category-peinture { background: #059669; }
        .category-huiles { background: #4b5563; }
        .category-organique { background: #0d9488; }
        .category-combustible { background: #dc2626; }
        
        .selected-product {
            padding: 1rem;
            background: white;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .product-card {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            border-radius: 0.5rem;
            padding: 1rem;
        }
        
        .product-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }
        
        .product-icon {
            font-size: 2rem;
        }
        
        .product-info h3 {
            font-size: 1.125rem;
            font-weight: bold;
            margin-bottom: 0.25rem;
        }
        
        .product-info p {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .classification-box {
            background: white;
            border-radius: 0.5rem;
            padding: 0.75rem;
            border-left: 4px solid #059669;
        }
        
        .classification-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .classification-badge {
            color: white;
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }
        
        .classification-desc {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 0.75rem;
        }
        
        .instructions-box {
            background: #fefce8;
            border: 1px solid #fde047;
            border-radius: 0.5rem;
            padding: 0.75rem;
        }
        
        .instructions-title {
            font-weight: 600;
            color: #a16207;
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }
        
        .instructions-text {
            font-size: 0.75rem;
            color: #a16207;
        }
        
        .categories-section {
            padding: 1rem;
        }
        
        .section-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .category-card {
            border-left: 4px solid;
            padding: 1rem;
            border-radius: 0 0.5rem 0.5rem 0;
            margin-bottom: 0.75rem;
            transition: transform 0.2s;
        }
        
        .category-card:hover {
            transform: translateX(4px);
        }
        
        .category-content {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .category-icon-container {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
        }
        
        .category-details h3 {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .category-details p {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 0.125rem;
        }
        
        .category-count {
            font-size: 0.75rem;
            color: #9ca3af;
        }
        
        .footer {
            padding: 1rem;
            background: #f3f4f6;
            text-align: center;
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .footer p {
            margin-bottom: 0.25rem;
        }
        
        .footer .copyright {
            font-size: 0.75rem;
            color: #9ca3af;
        }
        
        .admin-panel {
            background: #f3f4f6;
            border-bottom: 2px solid #d1d5db;
            padding: 1rem;
        }
        
        .admin-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .admin-buttons {
            display: grid;
            gap: 0.75rem;
        }
        
        .admin-btn-full {
            padding: 0.75rem 1rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .btn-blue {
            background: #3b82f6;
            color: white;
        }
        
        .btn-blue:hover {
            background: #2563eb;
        }
        
        .btn-green {
            background: #059669;
            color: white;
        }
        
        .btn-green:hover {
            background: #047857;
        }
        
        .btn-purple {
            background: #7c3aed;
            color: white;
        }
        
        .btn-purple:hover {
            background: #6d28d9;
        }
        
        .stats-box {
            background: white;
            padding: 0.75rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .stats-title {
            font-weight: 600;
            color: #111827;
            margin-bottom: 0.5rem;
        }
        
        .hidden {
            display: none;
        }
        
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .loading-indicator {
            margin-top: 0.75rem;
            text-align: center;
        }
        
        .loading-box {
            background: #dbeafe;
            border: 1px solid #93c5fd;
            border-radius: 0.5rem;
            padding: 0.75rem;
        }
        
        .loading-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .loading-spinner {
            width: 1rem;
            height: 1rem;
            border: 2px solid #3b82f6;
            border-top: 2px solid transparent;
            border-radius: 50%;
        }
        
        .loading-text {
            color: #1d4ed8;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div class="header" style="position: relative;">
            <h1>Classification RDD</h1>
            <p class="subtitle">par PaT's_PrOjEcT's</p>
            <p class="description">Résidus domestiques dangereux</p>
            <button class="admin-btn" onclick="toggleAdmin()">⚙️ Admin</button>
        </div>

        <!-- Admin Panel -->
        <div id="adminPanel" class="admin-panel hidden">
            <div class="admin-title">⚙️ Panneau d'administration</div>
            <div class="admin-buttons">
                <button class="admin-btn-full btn-blue" onclick="toggleAddProduct()">➕ Ajouter un produit</button>
                <button class="admin-btn-full btn-green" onclick="exportDatabase()">📤 Exporter ma base de données</button>
                <label class="admin-btn-full btn-purple" style="cursor: pointer;">
                    📥 Importer une base de données
                    <input type="file" accept=".json" onchange="importDatabase(event)" style="display: none;">
                </label>
                <div class="stats-box">
                    <div class="stats-title">Classification RDD - PaT's_PrOjEcT's</div>
                    <div>• Produits par défaut: <span id="defaultCount">500</span></div>
                    <div>• Produits personnalisés: <span id="customCount">0</span></div>
                    <div>• Total: <span id="totalCount">500</span></div>
                    <div class="copyright" style="margin-top: 0.5rem;">© 2025 PaT's_PrOjEcT's</div>
                </div>
            </div>
        </div>

        <!-- Add Product Form -->
        <div id="addProductForm" class="hidden" style="background: #eff6ff; border-bottom: 2px solid #93c5fd; padding: 1rem;">
            <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">➕ Ajouter un nouveau produit</h3>
            <div style="display: grid; gap: 0.75rem;">
                <div>
                    <label style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 0.25rem;">
                        Nom du produit *
                    </label>
                    <input type="text" id="newProductName" placeholder="Ex: WD-40, Roundup, etc." 
                           style="width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #d1d5db; border-radius: 0.5rem;">
                </div>
                <div>
                    <label style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 0.25rem;">
                        Catégorie RDD *
                    </label>
                    <select id="newProductCategory" style="width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #d1d5db; border-radius: 0.5rem;">
                        <option value="Acide">🧪 Acide</option>
                        <option value="Base">🥽 Base</option>
                        <option value="Comburants">💥 Comburants</option>
                        <option value="Oxydant">💥 Oxydant</option>
                        <option value="Toxique">☠️ Toxique</option>
                        <option value="Peinture">🎨 Peinture</option>
                        <option value="Huiles">🛢️ Huiles</option>
                        <option value="Organique">🧴 Organique</option>
                        <option value="Combustible">⛽ Combustible</option>
                    </select>
                </div>
                <div>
                    <label style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 0.25rem;">
                        Description *
                    </label>
                    <input type="text" id="newProductDesc" placeholder="Ex: Dégrippant lubrifiant, Herbicide glyphosate, etc." 
                           style="width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #d1d5db; border-radius: 0.5rem;">
                </div>
                <div style="display: flex; gap: 0.5rem; padding-top: 0.5rem;">
                    <button class="admin-btn-full btn-green" onclick="addProduct()" style="flex: 1;">✅ Ajouter</button>
                    <button class="admin-btn-full" onclick="toggleAddProduct()" style="flex: 1; background: #6b7280; color: white;">❌ Annuler</button>
                </div>
            </div>
        </div>

        <!-- Search Section -->
        <div class="search-section">
            <div class="search-container">
                <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                <input type="text" class="search-input" id="searchInput" placeholder="Rechercher un produit (ex: WD-40, Roundup...)" 
                       oninput="handleSearch()" onkeypress="handleKeyPress(event)">
                <button id="autoSearchBtn" class="auto-search-btn hidden" onclick="autoSearch()">🌐</button>
            </div>
            
            <div id="loadingIndicator" class="loading-indicator hidden">
                <div class="loading-box">
                    <div class="loading-content">
                        <div class="loading-spinner animate-spin"></div>
                        <span class="loading-text">Recherche en ligne de "<span id="searchingFor"></span>"...</span>
                    </div>
                </div>
            </div>

            <div id="suggestions" class="suggestions hidden"></div>
        </div>

        <!-- Selected Product -->
        <div id="selectedProduct" class="selected-product hidden"></div>

        <!-- Categories Section -->
        <div class="categories-section">
            <h2 class="section-title">
                <svg style="width: 20px; height: 20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
                </svg>
                Catégories de disposition
            </h2>
            <div id="categoriesContainer"></div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>🌱 Classification RDD par PaT's_PrOjEcT's</p>
            <p>Classification des résidus domestiques dangereux</p>
            <p style="font-size: 0.75rem; margin-top: 0.5rem;">
                Base de données: <span id="footerTotal">500</span> produits
            </p>
            <p class="copyright">Développé par PaT's_PrOjEcT's © 2025</p>
        </div>
    </div>

    <script>
        // Base de données des produits (500+ produits)
        const productsDatabase = [
            // ACIDES (25 exemples)
            { name: 'Acide muriatique', category: 'Acide', icon: '🧪', description: 'Nettoyant pour piscine, acide chlorhydrique' },
            { name: 'Vinaigre blanc concentré', category: 'Acide', icon: '🧪', description: 'Nettoyant ménager acide' },
            { name: 'Détartrant WC', category: 'Acide', icon: '🧪', description: 'Nettoyant sanitaire acide' },
            { name: 'CLR', category: 'Acide', icon: '🧪', description: 'Nettoyant calcium, lime, rouille' },
            { name: 'Lime Away', category: 'Acide', icon: '🧪', description: 'Détartrant salle de bain' },
            { name: 'Acide phosphorique', category: 'Acide', icon: '🧪', description: 'Antirouille, décapant' },
            { name: 'Naval Jelly', category: 'Acide', icon: '🧪', description: 'Décapant antirouille' },
            { name: 'Acide citrique', category: 'Acide', icon: '🧪', description: 'Détartrant naturel concentré' },
            { name: 'Bar Keepers Friend', category: 'Acide', icon: '🧪', description: 'Nettoyant acide oxalique' },
            { name: 'Iron Out', category: 'Acide', icon: '🧪', description: 'Enlève-taches de rouille' },
            { name: 'Toilet Bowl Cleaner', category: 'Acide', icon: '🧪', description: 'Nettoyant cuvette WC' },
            { name: 'The Works', category: 'Acide', icon: '🧪', description: 'Nettoyant cuvette acide fort' },
            { name: 'Zep Calcium Lime Rust', category: 'Acide', icon: '🧪', description: 'Détartrant professionnel' },
            { name: 'Whink Rust Stain Remover', category: 'Acide', icon: '🧪', description: 'Enlève-taches rouille acide' },
            { name: 'Acid Magic', category: 'Acide', icon: '🧪', description: 'Acide muriatique doux' },
            { name: 'Battery Acid', category: 'Acide', icon: '🧪', description: 'Acide sulfurique concentré' },
            { name: 'Tile & Grout Cleaner', category: 'Acide', icon: '🧪', description: 'Nettoyant céramique acide' },
            { name: 'Acide sulfurique', category: 'Acide', icon: '🧪', description: 'Électrolyte de batterie' },
            { name: 'Acide nitrique', category: 'Acide', icon: '🧪', description: 'Gravure métaux' },
            { name: 'Acide acétique', category: 'Acide', icon: '🧪', description: 'Vinaigre fort industriel' },
            { name: 'Saniflo Descaler', category: 'Acide', icon: '🧪', description: 'Détartrant pour toilette' },
            { name: 'Ospho', category: 'Acide', icon: '🧪', description: 'Neutralisant de rouille' },
            { name: 'Détartrant Lime-B-Gone', category: 'Acide', icon: '🧪', description: 'Nettoyant calcaire' },
            { name: 'Lysol Toilet Bowl Cleaner', category: 'Acide', icon: '🧪', description: 'Nettoyant WC acide' },
            { name: 'Muriatic Acid Plus', category: 'Acide', icon: '🧪', description: 'Acide chlorhydrique renforcé' },

            // BASES (25 exemples)
            { name: 'Eau de Javel', category: 'Base', icon: '🥽', description: 'Désinfectant chloré' },
            { name: 'Javex', category: 'Base', icon: '🥽', description: 'Eau de javel commerciale' },
            { name: 'Ammoniaque', category: 'Base', icon: '🥽', description: 'Nettoyant dégraissant' },
            { name: 'Soude caustique', category: 'Base', icon: '🥽', description: 'Débouchoir chimique' },
            { name: 'Mr. Clean', category: 'Base', icon: '🥽', description: 'Nettoyant multi-surfaces' },
            { name: 'Ajax', category: 'Base', icon: '🥽', description: 'Nettoyant abrasif' },
            { name: 'Comet', category: 'Base', icon: '🥽', description: 'Poudre à récurer' },
            { name: 'Drano', category: 'Base', icon: '🥽', description: 'Débouchoir liquide' },
            { name: 'Liquid Plumr', category: 'Base', icon: '🥽', description: 'Débouchoir de drain' },
            { name: 'Easy-Off', category: 'Base', icon: '🥽', description: 'Nettoyant four' },
            { name: 'Fantastik', category: 'Base', icon: '🥽', description: 'Dégraissant multi-usage' },
            { name: 'Formula 409', category: 'Base', icon: '🥽', description: 'Nettoyant dégraissant' },
            { name: 'Lysol', category: 'Base', icon: '🥽', description: 'Désinfectant surfaces' },
            { name: 'Pine-Sol', category: 'Base', icon: '🥽', description: 'Nettoyant plancher' },
            { name: 'Spic and Span', category: 'Base', icon: '🥽', description: 'Nettoyant murs/planchers' },
            { name: 'TSP', category: 'Base', icon: '🥽', description: 'Phosphate trisodique' },
            { name: 'Clorox Clean-Up', category: 'Base', icon: '🥽', description: 'Nettoyant javellisant' },
            { name: 'Scrubbing Bubbles', category: 'Base', icon: '🥽', description: 'Nettoyant salle de bain' },
            { name: 'Tilex', category: 'Base', icon: '🥽', description: 'Nettoyant moisissure' },
            { name: 'Soft Scrub', category: 'Base', icon: '🥽', description: 'Crème à récurer' },
            { name: 'Bon Ami', category: 'Base', icon: '🥽', description: 'Poudre nettoyante' },
            { name: 'Cascade', category: 'Base', icon: '🥽', description: 'Détergent lave-vaisselle' },
            { name: 'Finish', category: 'Base', icon: '🥽', description: 'Tablettes lave-vaisselle' },
            { name: 'Dawn Power Dissolver', category: 'Base', icon: '🥽', description: 'Dégraissant cuisine' },
            { name: 'Krud Kutter', category: 'Base', icon: '🥽', description: 'Dégraissant professionnel' },

            // TOXIQUES (50 exemples)
            { name: 'Roundup', category: 'Toxique', icon: '☠️', description: 'Herbicide glyphosate' },
            { name: 'Raid', category: 'Toxique', icon: '☠️', description: 'Insecticide en aérosol' },
            { name: 'Mort-aux-rats', category: 'Toxique', icon: '☠️', description: 'Rodenticide' },
            { name: 'Antigel', category: 'Toxique', icon: '☠️', description: 'Éthylène glycol' },
            { name: 'Varsol', category: 'Toxique', icon: '☠️', description: 'Solvant minéral' },
            { name: 'OFF!', category: 'Toxique',