{ name: 'Lysol', category: 'Base', icon: 'ü•Ω', description: 'D√©sinfectant surfaces' },
            { name: 'Pine-Sol', category: 'Base', icon: 'ü•Ω', description: 'Nettoyant plancher' },
            { name: 'Spic and Span', category: 'Base', icon: 'ü•Ω', description: 'Nettoyant murs/planchers' },
            { name: 'TSP', category: 'Base', icon: 'ü•Ω', description: 'Phosphate trisodique' },
            { name: 'Clorox Clean-Up', category: 'Base', icon: 'ü•Ω', description: 'Nettoyant javellisant' },
            { name: 'Scrubbing Bubbles', category: 'Base', icon: 'ü•Ω', description: 'Nettoyant salle de bain' },
            { name: 'Lysol Power Toilet Bowl', category: 'Base', icon: 'ü•Ω', description: 'Nettoyant WC javellisant' },
            { name: 'Tilex', category: 'Base', icon: 'ü•Ω', description: 'Nettoyant moisissure' },
            { name: 'Clorox Toilet Bowl', category: 'Base', icon: 'ü•Ω', description: 'Nettoyant WC chlor√©' },
            { name: 'Soft Scrub', category: 'Base', icon: 'ü•Ω', description: 'Cr√®me √† r√©curer' },
            { name: 'Bon Ami', category: 'Base', icon: 'ü•Ω', description: 'Poudre nettoyante' },
            { name: 'Cascade', category: 'Base', icon: 'ü•Ω', description: 'D√©tergent lave-vaisselle' },
            { name: 'Finish', category: 'Base', icon: 'ü•Ω', description: 'Tablettes lave-vaisselle' },
            { name: 'Jet-Dry', category: 'Base', icon: 'ü•Ω', description: 'Agent de rin√ßage' },
            { name: 'Dawn Power Dissolver', category: 'Base', icon: 'ü•Ω', description: 'D√©graissant cuisine' },
            { name: 'Greased Lightning', category: 'Base', icon: 'ü•Ω', description: 'D√©graissant multi-surfaces' },
            { name: 'Krud Kutter', category: 'Base', icon: 'ü•Ω', description: 'D√©graissant professionnel' },

            // TOXIQUES (80 produits)
            { name: 'Roundup', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Herbicide glyphosate' },
            { name: 'Raid', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide en a√©rosol' },
            { name: 'Mort-aux-rats', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Rodenticide' },
            { name: 'Anti-limace', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Molluscicide' },
            { name: 'Antigel', category: 'Toxique', icon: '‚ò†Ô∏è', description: '√âthyl√®ne glycol' },
            { name: 'Varsol', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Solvant min√©ral' },
            { name: 'Baygon', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide domestique' },
            { name: 'OFF!', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Chasse-moustiques DEET' },
            { name: 'Killex', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Herbicide pelouse' },
            { name: 'Weed-B-Gon', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Herbicide s√©lectif' },
            { name: 'Ant Trap', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Pi√®ge √† fourmis' },
            { name: 'Roach Killer', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide coquerelles' },
            { name: 'Wasp Spray', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide gu√™pes' },
            { name: 'Slug-Geta', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Anti-limaces granules' },
            { name: 'Deadline', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'App√¢t escargots' },
            { name: 'Warfarine', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Rodenticide anticoagulant' },
            { name: 'M√©thanol', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Alcool m√©thylique' },
            { name: 'Formaldehyde', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Conservateur toxique' },
            { name: 'Pesticide 2,4-D', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Herbicide syst√©mique' },
            { name: 'Malathion', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide organophosphor√©' },
            { name: 'Sevin', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide carbaryl' },
            { name: 'Diazinon', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide organophosphor√©' },
            { name: 'Chlordane', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide chlor√©' },
            { name: 'Dursban', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide chlorpyrifos' },
            { name: 'Spectracide', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Herbicide/insecticide' },
            { name: 'Ortho GroundClear', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Herbicide total' },
            { name: 'Bayer Advanced', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide syst√©mique' },
            { name: 'Merit', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide imidaclopride' },
            { name: 'Tempo', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide cyfluthrine' },
            { name: 'Demon', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide cypermethrine' },
            { name: 'Combat', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'App√¢t coquerelles' },
            { name: 'Hot Shot', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide fourmis' },
            { name: 'Terro', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'App√¢t liquide fourmis' },
            { name: 'Amdro', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'App√¢t fourmis ext√©rieur' },
            { name: 'Ortho Home Defense', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Insecticide p√©rim√®tre' },
            { name: 'Boric Acid', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Acide borique insecticide' },
            { name: 'Borax', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'T√©traborate de sodium' },
            { name: 'D-Con', category: 'Toxique', icon: '‚ò†Ô∏è', description: 'Poison souris et rats' },

            // PEINTURES (60 produits)
            { name: 'Peinture latex', category: 'Peinture', icon: 'üé®', description: 'Peinture √† base d\'eau' },
            { name: 'Peinture alkyde', category: 'Peinture', icon: 'üé®', description: 'Peinture √† l\'huile' },
            { name: 'Benjamin Moore', category: 'Peinture', icon: 'üé®', description: 'Peinture murale' },
            { name: 'Primer', category: 'Peinture', icon: 'üé®', description: 'Appr√™t pour peinture' },
            { name: 'Teinture √† bois', category: 'Peinture', icon: 'üé®', description: 'Colorant pour bois' },
            { name: 'Sherwin Williams', category: 'Peinture', icon: 'üé®', description: 'Peinture architecturale' },
            { name: 'Dulux', category: 'Peinture', icon: 'üé®', description: 'Peinture d√©corative' },
            { name: 'Behr', category: 'Peinture', icon: 'üé®', description: 'Peinture Home Depot' },
            { name: 'Minwax', category: 'Peinture', icon: 'üé®', description: 'Teinture et vernis bois' },
            { name: 'Varathane', category: 'Peinture', icon: 'üé®', description: 'Vernis polyur√©thane' },
            { name: 'Zinsser', category: 'Peinture', icon: 'üé®', description: 'Appr√™t sp√©cialis√©' },
            { name: 'Killz', category: 'Peinture', icon: 'üé®', description: 'Appr√™t bloquant' },
            { name: 'Tremclad', category: 'Peinture', icon: 'üé®', description: 'Peinture antirouille' },
            { name: 'Rust-Oleum', category: 'Peinture', icon: 'üé®', description: 'Peinture m√©taux' },
            { name: 'Krylon', category: 'Peinture', icon: 'üé®', description: 'Peinture en a√©rosol' },
            { name: 'Vernis marin', category: 'Peinture', icon: 'üé®', description: 'Protection bois ext√©rieur' },
            { name: 'Laque', category: 'Peinture', icon: 'üé®', description: 'Finition brillante' },
            { name: '√âmail', category: 'Peinture', icon: 'üé®', description: 'Peinture dure brillante' },
            { name: 'Sico', category: 'Peinture', icon: 'üé®', description: 'Peinture d√©corative' },
            { name: 'Para Paints', category: 'Peinture', icon: 'üé®', description: 'Peinture architecturale' },
            { name: 'Cloverdale', category: 'Peinture', icon: 'üé®', description: 'Peinture canadienne' },
            { name: 'CIL', category: 'Peinture', icon: 'üé®', description: 'Peinture et teinture' },
            { name: 'Olympic', category: 'Peinture', icon: 'üé®', description: 'Teinture ext√©rieure' },
            { name: 'Thompson\'s WaterSeal', category: 'Peinture', icon: 'üé®', description: 'Scellant imperm√©abilisant' },
            { name: 'Sikkens', category: 'Peinture', icon: 'üé®', description: 'Teinture haut de gamme' },
            { name: 'Cabot', category: 'Peinture', icon: 'üé®', description: 'Teinture bois ext√©rieur' },
            { name: 'Paint Stripper', category: 'Peinture', icon: 'üé®', description: 'D√©capant chimique' },
            { name: 'Citristrip', category: 'Peinture', icon: 'üé®', description: 'D√©capant √† base d\'agrumes' },
            { name: 'Klean-Strip', category: 'Peinture', icon: 'üé®', description: 'D√©capant peinture' },
            { name: 'Jasco', category: 'Peinture', icon: 'üé®', description: 'D√©capant et solvants' },

            // HUILES (50 produits)
            { name: 'Huile moteur', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Lubrifiant automobile' },
            { name: 'Huile hydraulique', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Fluide de transmission' },
            { name: 'WD-40', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'D√©grippant lubrifiant' },
            { name: 'Huile de transmission', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Fluide de bo√Æte de vitesses' },
            { name: '3-en-1', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Huile multiusage' },
            { name: 'Castrol', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Huile moteur synth√©tique' },
            { name: 'Mobil 1', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Huile synth√©tique haute performance' },
            { name: 'Valvoline', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Huile moteur conventionnelle' },
            { name: 'Quaker State', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Lubrifiant automobile' },
            { name: 'Lucas Oil', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Additif huile moteur' },
            { name: 'Liquid Wrench', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'D√©grippant p√©n√©trant' },
            { name: 'CRC', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Lubrifiant industriel' },
            { name: 'Huile de coupe', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Fluide d\'usinage' },
            { name: 'Huile compresseur', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Lubrifiant pneumatique' },
            { name: 'Graisse au lithium', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Graisse multi-usage' },
            { name: 'Huile 2-temps', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'M√©lange moteur petit √©quipement' },
            { name: 'Pennzoil', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Huile moteur conventionnelle' },
            { name: 'Shell Rotella', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Huile diesel' },
            { name: 'ATF', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Fluide transmission automatique' },
            { name: 'Power Steering Fluid', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Fluide direction assist√©e' },
            { name: 'Brake Fluid', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Liquide de frein DOT' },
            { name: 'Coolant', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Liquide de refroidissement' },
            { name: 'Sea Foam', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Nettoyant syst√®me carburant' },
            { name: 'Techron', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Nettoyant injecteurs' },
            { name: 'STP', category: 'Huiles', icon: 'üõ¢Ô∏è', description: 'Additifs performance' },

            // ORGANIQUES (50 produits)
            { name: 'Ac√©tone', category: 'Organique', icon: 'üß¥', description: 'Dissolvant pour vernis' },
            { name: 'Essence min√©rale', category: 'Organique', icon: 'üß¥', description: 'Solvant pour peinture' },
            { name: 'T√©r√©benthine', category: 'Organique', icon: 'üß¥', description: 'Diluant naturel' },
            { name: 'Tolu√®ne', category: 'Organique', icon: 'üß¥', description: 'Solvant industriel' },
            { name: 'Xyl√®ne', category: 'Organique', icon: 'üß¥', description: 'Diluant peinture' },
            { name: 'MEK', category: 'Organique', icon: 'üß¥', description: 'M√©thyl √©thyl c√©tone' },
            { name: 'Alcool isopropylique', category: 'Organique', icon: 'üß¥', description: 'Alcool √† friction' },
            { name: '√âthanol', category: 'Organique', icon: 'üß¥', description: 'Alcool √©thylique' },
            { name: 'Chloroforme', category: 'Organique', icon: 'üß¥', description: 'Solvant chlor√©' },
            { name: 'Dichlorom√©thane', category: 'Organique', icon: 'üß¥', description: 'D√©capant peinture' },
            { name: 'White Spirit', category: 'Organique', icon: 'üß¥', description: 'Solvant p√©trolier' },
            { name: 'Butanol', category: 'Organique', icon: 'üß¥', description: 'Alcool butylique' },
            { name: 'Glycol', category: 'Organique', icon: 'üß¥', description: 'Solvant polyol' },
            { name: 'Freon', category: 'Organique', icon: 'üß¥', description: 'R√©frig√©rant CFC' },
            { name: 'Carb Cleaner', category: 'Organique', icon: 'üß¥', description: 'Nettoyant carburateur' },
            { name: 'Brake Cleaner', category: 'Organique', icon: 'üß¥', description: 'Nettoyant freins' },
            { name: 'Contact Cleaner', category: 'Organique', icon: 'üß¥', description: 'Nettoyant √©lectronique' },
            { name: 'Degreaser', category: 'Organique', icon: 'üß¥', description: 'D√©graissant industriel' },
            { name: 'Gunk Engine Degreaser', category: 'Organique', icon: 'üß¥', description: 'D√©graissant moteur' },
            { name: 'Simple Green Pro HD', category: 'Organique', icon: 'üß¥', description: 'D√©graissant professionnel' },
            { name: 'Purple Power', category: 'Organique', icon: 'üß¥', description: 'D√©graissant concentr√©' },
            { name: 'Castrol Super Clean', category: 'Organique', icon: 'üß¥', description: 'D√©graissant automobile' },
            { name: 'Gumout', category: 'Organique', icon: 'üß¥', description: 'Nettoyant carburateur' },
            { name: 'Berryman', category: 'Organique', icon: 'üß¥', description: 'Nettoyants carburant' },
            { name: 'Alcohol 99%', category: 'Organique', icon: 'üß¥', description: 'Isopropanol pur' },
            { name: 'Denatured Alcohol', category: 'Organique', icon: 'üß¥', description: 'Alcool d√©natur√©' },

            // COMBUSTIBLES (40 produits)
            { name: 'Essence', category: 'Combustible', icon: '‚õΩ', description: 'Carburant automobile' },
            { name: 'Diesel', category: 'Combustible', icon: '‚õΩ', description: 'Gazole' },
            { name: 'Propane', category: 'Combustible', icon: '‚õΩ', description: 'Gaz de p√©trole liqu√©fi√©' },
            { name: 'K√©ros√®ne', category: 'Combustible', icon: '‚õΩ', description: 'Combustible de chauffage' },
            { name: 'Naphta', category: 'Combustible', icon: '‚õΩ', description: 'Solvant p√©trolier' },
            { name: 'Mazout', category: 'Combustible', icon: '‚õΩ', description: 'Fuel oil domestique' },
            { name: 'Butane', category: 'Combustible', icon: '‚õΩ', description: 'Gaz combustible' },
            { name: '√âthanol carburant', category: 'Combustible', icon: '‚õΩ', description: 'Biocarburant E85' },
            { name: 'Jet fuel', category: 'Combustible', icon: '‚õΩ', description: 'Carburant aviation' },
            { name: 'Coleman fuel', category: 'Combustible', icon: '‚õΩ', description: 'Combustible camping' },
            { name: 'Alcool √† br√ªler', category: 'Combustible', icon: '‚õΩ', description: 'Combustible fondue' },
            { name: 'Huile √† lamp', category: 'Combustible', icon: '‚õΩ', description: 'Combustible √©clairage' },
            { name: 'Essence blanche', category: 'Combustible', icon: '‚õΩ', description: 'Naphta l√©ger' },
            { name: 'Charcoal lighter', category: 'Combustible', icon: '‚õΩ', description: 'Allume-charbon' },
            { name: 'Starter fluid', category: 'Combustible', icon: '‚õΩ', description: 'Fluide de d√©marrage' },
            { name: 'Zippo fluid', category: 'Combustible', icon: '‚õΩ', description: 'Essence √† briquet' },
            { name: 'Ronsonol', category: 'Combustible', icon: '‚õΩ', description: 'Combustible briquet' },
            { name: 'Fuel Oil #2', category: 'Combustible', icon: '‚õΩ', description: 'Mazout domestique' },
            { name: 'Marine Gas Oil', category: 'Combustible', icon: '‚õΩ', description: 'Gazole marin' },
            { name: 'Aviation Gas', category: 'Combustible', icon: '‚õΩ', description: 'Essence aviation' },
            { name: 'Racing Fuel', category: 'Combustible', icon: '‚õΩ', description: 'Carburant course' },
            { name: 'Methanol Fuel', category: 'Combustible', icon: '‚õΩ', description: 'Carburant m√©thanol' },
            { name: 'Tiki Torch Fuel', category: 'Combustible', icon: '‚õΩ', description: 'Combustible torche' },
            { name: 'Lamp Oil', category: 'Combustible', icon: '‚õΩ', description: 'Huile √† lampe' },

            // COMBURANTS/OXYDANTS (30 produits)
            { name: 'Peroxyde d\'hydrog√®ne', category: 'Oxydant', icon: 'üí•', description: 'Eau oxyg√©n√©e concentr√©e' },
            { name: 'Chlore piscine', category: 'Comburants', icon: 'üí•', description: 'Pastilles de chlore' },
            { name: 'HTH', category: 'Comburants', icon: 'üí•', description: 'Hypochlorite de calcium' },
            { name: 'Pool Shock', category: 'Comburants', icon: 'üí•', description: 'Choc chlor√© piscine' },
            { name: 'Algicide', category: 'Comburants', icon: 'üí•', description: 'Anti-algues piscine' },
            { name: 'Bromine', category: 'Comburants', icon: 'üí•', description: 'D√©sinfectant spa' },
            { name: 'Oxyclean', category: 'Oxydant', icon: 'üí•', description: 'D√©tachant oxyg√©n√©' },
            { name: 'Clorox 2', category: 'Oxydant', icon: 'üí•', description: 'Javellisant color√©' },
            { name: 'Pool Perfect', category: 'Comburants', icon: 'üí•', description: 'Clarifiant piscine' },
            { name: 'Calcium hypochlorite', category: 'Comburants', icon: 'üí•', description: 'D√©sinfectant industriel' },
            { name: 'Super Shock', category: 'Comburants', icon: 'üí•', description: 'Chlore choc granulaire' },
            { name: 'Lithium Hypochlorite', category: 'Comburants', icon: 'üí•', description: 'Choc piscine sans calcium' },
            { name: 'Sodium Hypochlorite', category: 'Comburants', icon: 'üí•', description: 'Eau de javel liquide' },
            { name: 'Hydrogen Peroxide 35%', category: 'Oxydant', icon: 'üí•', description: 'Peroxyde concentr√©' },
            { name: 'Sodium Percarbonate', category: 'Oxydant', icon: 'üí•', description: 'Javellisant oxyg√©n√©' }
        ];

        // Variables globales
        let customProducts = JSON.parse(localStorage.getItem('customProducts') || '[]');
        let isSearching = false;
        let selectedProduct = null;

        // Configuration des cat√©gories
        const categoryConfig = {
            'Acide': { color: '#dc2626', bg: '#fef2f2', desc: 'Substances corrosives acides' },
            'Base': { color: '#2563eb', bg: '#eff6ff', desc: 'Substances corrosives basiques' },
            'Comburants': { color: '#ea580c', bg: '#fff7ed', desc: 'Substances favorisant la combustion' },
            'Oxydant': { color: '#eab308', bg: '#fefce8', desc: 'Agents oxydants' },
            'Toxique': { color: '#7c3aed', bg: '#faf5ff', desc: 'Substances toxiques et v√©n√©neuses' },
            'Peinture': { color: '#059669', bg: '#f0fdf4', desc: 'Peintures et solvants associ√©s' },
            'Huiles': { color: '#4b5563', bg: '#f9fafb', desc: 'Huiles usag√©es et lubrifiants' },
            'Organique': { color: '#0d9488', bg: '#f0fdfa', desc: 'Solvants organiques' },
            'Combustible': { color: '#dc2626', bg: '#fef2f2', desc: 'Liquides inflammables' }
        };

        const categoryIcons = {
            'Acide': 'üß™', 'Base': 'ü•Ω', 'Comburants': 'üí•', 'Oxydant': 'üí•',
            'Toxique': '‚ò†Ô∏è', 'Peinture': 'üé®', 'Huiles': 'üõ¢Ô∏è',
            'Organique': 'üß¥', 'Combustible': '‚õΩ'
        };

        // Fonctions utilitaires
        function getAllProducts() {
            return [...defaultProducts, ...customProducts];
        }

        function saveCustomProducts() {
            localStorage.setItem('customProducts', JSON.stringify(customProducts));
        }

        function updateCounts() {
            const total = getAllProducts().length;
            document.getElementById('defaultCount').textContent = defaultProducts.length;
            document.getElementById('customCount').textContent = customProducts.length;
            document.getElementById('totalCount').textContent = total;
            document.getElementById('footerTotal').textContent = total;
            
            const footerCustom = document.getElementById('footerCustom');
            if (customProducts.length > 0) {
                footerCustom.textContent = ` (${customProducts.length} personnalis√©s)`;
            } else {
                footerCustom.textContent = '';
            }
        }

        function getCategoryCounts() {
            const counts = {};
            getAllProducts().forEach(product => {
                counts[product.category] = (counts[product.category] || 0) + 1;
            });
            return counts;
        }

        function classifyProduct(productName, description) {
            const text = `${productName} ${description}`.toLowerCase();
            const keywords = {
                'Acide': ['acide', 'muriatique', 'd√©tartrant', 'clr', 'lime away', 'vinaigre', 'sulfurique'],
                'Base': ['javel', 'javex', 'ammoniaque', 'soude', 'caustique', 'drano', 'ajax', 'lysol'],
                'Comburants': ['chlore', 'hypochlorite', 'bromine', 'hth', 'shock', 'piscine'],
                'Oxydant': ['peroxyde', 'oxyg√©n√©', 'oxyclean', 'clorox 2'],
                'Toxique': ['pesticide', 'herbicide', 'insecticide', 'roundup', 'raid', 'poison', 'antigel'],
                'Peinture': ['peinture', 'latex', 'alkyde', 'primer', 'teinture', 'vernis', 'benjamin'],
                'Huiles': ['huile', 'lubrifiant', 'wd-40', 'graisse', 'moteur', 'castrol', 'mobil'],
                'Organique': ['ac√©tone', 'solvant', 't√©r√©benthine', 'tolu√®ne', 'alcool', 'essence min√©rale'],
                'Combustible': ['essence', 'diesel', 'propane', 'carburant', 'combustible', 'mazout']
            };

            let bestMatch = 'Toxique';
            let maxScore = 0;

            Object.entries(keywords).forEach(([category, words]) => {
                const score = words.reduce((acc, word) => acc + (text.includes(word) ? 1 : 0), 0);
                if (score > maxScore) {
                    maxScore = score;
                    bestMatch = category;
                }
            });

            return bestMatch;
        }

        // Fonctions principales
        function toggleAdmin() {
            const panel = document.getElementById('adminPanel');
            const isHidden = panel.style.display === 'none' || panel.style.display === '';
            panel.style.display = isHidden ? 'block' : 'none';
            
            if (isHidden && customProducts.length > 0) {
                updateCustomProductsPanel();
            }
        }

        function toggleAddProduct() {
            const form = document.getElementById('addProductForm');
            const isHidden = form.style.display === 'none' || form.style.display === '';
            form.style.display = isHidden ? 'block' : 'none';
        }

        function addProduct() {
            const name = document.getElementById('newProductName').value.trim();
            const category = document.getElementById('newProductCategory').value;
            const description = document.getElementById('newProductDesc').value.trim();

            if (!name || !description) {
                alert('Veuillez remplir tous les champs obligatoires');
                return;
            }

            const newProduct = {
                name: name,
                category: category,
                description: description,
                icon: categoryIcons[category],
                custom: true
            };

            customProducts.push(newProduct);
            saveCustomProducts();
            updateCounts();
            displayCategories();
            updateCustomProductsPanel();

            // Reset form
            document.getElementById('newProductName').value = '';
            document.getElementById('newProductDesc').value = '';
            toggleAddProduct();

            alert('Produit ajout√© avec succ√®s !');
        }

        function deleteCustomProduct(index) {
            if (confirm('√ätes-vous s√ªr de vouloir supprimer ce produit ?')) {
                customProducts.splice(index, 1);
                saveCustomProducts();
                updateCounts();
                displayCategories();
                updateCustomProductsPanel();
            }
        }

        function updateCustomProductsPanel() {
            const panel = document.getElementById('customProductsPanel');
            const list = document.getElementById('customProductsList');
            
            if (customProducts.length === 0) {
                panel.style.display = 'none';
                return;
            }

            panel.style.display = 'block';
            list.innerHTML = customProducts.map((product, index) => `
                <div class="custom-product">
                    <div class="custom-product-info">
                        <div class="custom-product-icon">${product.icon}</div>
                        <div class="custom-product-details">
                            <div class="custom-product-name">${product.name}</div>
                            <div class="custom-product-desc">${product.description}</div>
                            <div class="custom-product-category category-${product.category.toLowerCase()}">${product.category}</div>
                        </div>
                    </div>
                    <button class="delete-btn" onclick="deleteCustomProduct(${index})">üóëÔ∏è</button>
                </div>
            `).join('');
        }

        function exportDatabase() {
            const dataToExport = {
                customProducts: customProducts,
                exportDate: new Date().toISOString(),
                version: '1.0'
            };

            const dataStr = JSON.stringify(dataToExport, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `classification-rdd-pats-projects-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
        }

        function importDatabase(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = (e) => {
                try {
                    const importedData = JSON.parse(e.target.result);
                    if (importedData.customProducts && Array.isArray(importedData.customProducts)) {
                        customProducts.push(...importedData.customProducts);
                        saveCustomProducts();
                        updateCounts();
                        displayCategories();
                        updateCustomProductsPanel();
                        alert(`${importedData.customProducts.length} produits import√©s avec succ√®s !`);
                    } else {
                        alert('Format de fichier invalide');
                    }
                } catch (error) {
                    alert('Erreur lors de l\'importation du fichier');
                }
            };
            reader.readAsText(file);
            event.target.value = '';
        }

        function handleSearch() {
            const input = document.getElementById('searchInput');
            const query = input.value.toLowerCase().trim();
            const suggestionsDiv = document.getElementById('suggestions');
            const autoSearchBtn = document.getElementById('autoSearchBtn');
            
            if (query.length === 0) {
                suggestionsDiv.style.display = 'none';
                autoSearchBtn.style.display = 'none';
                return;
            }

            const filtered = getAllProducts().filter(product => 
                product.name.toLowerCase().includes(query)
            ).slice(0, 5);

            if (filtered.length === 0) {
                if (query.length > 2) {
                    suggestionsDiv.innerHTML = '<div class="no-results">Aucun produit trouv√©. Cliquez sur üåê pour rechercher en ligne.</div>';
                    suggestionsDiv.style.display = 'block';
                    autoSearchBtn.style.display = 'block';
                } else {
                    suggestionsDiv.style.display = 'none';
                    autoSearchBtn.style.display = 'none';
                }
                return;
            }

            suggestionsDiv.innerHTML = filtered.map((product, index) => `
                <div class="suggestion" onclick="selectProduct(${JSON.stringify(product).replace(/"/g, '&quot;')})">
                    <div class="suggestion-content">
                        <div class="suggestion-icon">${product.icon}</div>
                        <div class="suggestion-info">
                            <div class="suggestion-name">${product.name}</div>
                            <div class="suggestion-desc">${product.description}</div>
                            <div class="suggestion-badges">
                                <div class="suggestion-category category-${product.category.toLowerCase()}">${product.category}</div>
                                ${product.autoAdded ? '<div class="auto-added-badge">Auto-ajout√©</div>' : ''}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
            
            suggestionsDiv.style.display = 'block';
            autoSearchBtn.style.display = 'none';
        }

        function selectProduct(product) {
            selectedProduct = product;
            document.getElementById('searchInput').value = product.name;
            document.getElementById('suggestions').style.display = 'none';
            document.getElementById('autoSearchBtn').style.display = 'none';
            showSelectedProduct(product);
        }

        function showSelectedProduct(product) {
            const config = categoryConfig[product.category];
            const resultBox = document.getElementById('resultBox');
            
            resultBox.innerHTML = `
                <div class="result-header">
                    <div class="result-icon">${product.icon}</div>
                    <div class="result-info">
                        <div class="result-name">${product.name}</div>
                        <div class="result-desc">${product.description}</div>
                        ${product.autoAdded ? '<div class="auto-added-result">‚ú® Ajout√© automatiquement</div>' : ''}
                    </div>
                </div>
                <div class="classification">
                    <div class="classification-title">
                        <span>üìä</span>
                        <span>Classification RDD:</span>
                    </div>
                    <div class="classification-badge" style="background: ${config.color}">
                        üìç ${product.category}
                    </div>
                    <div class="classification-desc">${config.desc}</div>
                    <div class="instructions">
                        <div class="instructions-title">üí° Instructions de disposition:</div>
                        <div class="instructions-text">
                            Apportez ce produit √† un √©cocentre ou point de collecte de r√©sidus domestiques dangereux. 
                            Ne pas jeter aux ordures m√©nag√®res ou √† l'√©gout.
                        </div>
                    </div>
                </div>
            `;
            
            resultBox.style.display = 'block';
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                const searchTerm = document.getElementById('searchInput').value.trim();
                if (!searchTerm) return;
                
                const allProducts = getAllProducts();
                const exactMatch = allProducts.find(product => 
                    product.name.toLowerCase() === searchTerm.toLowerCase()
                );
                
                if (exactMatch) {
                    selectProduct(exactMatch);
                } else {
                    const suggestions = allProducts.filter(product =>
                        product.name.toLowerCase().includes(searchTerm.toLowerCase())
                    );
                    
                    if (suggestions.length > 0) {
                        selectProduct(suggestions[0]);
                    } else {
                        autoSearch();
                    }
                }
            }
        }

        function autoSearch() {
            const searchTerm = document.getElementById('searchInput').value.trim();
            if (!searchTerm || isSearching) return;

            isSearching = true;
            document.getElementById('searchingFor').textContent = searchTerm;
            document.getElementById('loadingIndicator').style.display = 'block';
            document.getElementById('autoSearchBtn').style.display = 'none';

            // Simulation de recherche en ligne
            setTimeout(() => {
                const category = classifyProduct(searchTerm, 'produit chimique recherch√©');
                const newProduct = {
                    name: searchTerm,
                    category: category,
                    description: 'Produit trouv√© par recherche automatique',
                    icon: categoryIcons[category],
                    autoAdded: true,
                    custom: true
                };

                customProducts.push(newProduct);
                saveCustomProducts();
                selectProduct(newProduct);
                updateCounts();
                displayCategories();

                document.getElementById('loadingIndicator').style.display = 'none';
                isSearching = false;
            }, 2000);
        }

        function displayCategories() {
            const counts = getCategoryCounts();
            const container = document.getElementById('categoriesContainer');
            
            container.innerHTML = Object.entries(categoryConfig).map(([category, config]) => {
                const count = counts[category] || 0;
                const icon = categoryIcons[category];
                
                return `
                    <div class="category-card" style="background: ${config.bg}; border-left-color: ${config.color};">
                        <div class="category-header">
                            <div class="category-icon" style="background: ${config.color};">
                                ${icon}
                            </div>
                            <div class="category-details">
                                <div class="category-name" style="color: ${config.color};">
                                    ${category}
                                </div>
                                <div class="category-description">${config.desc}</div>
                                <div class="category-count">${count} produits</div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            updateCounts();
            displayCategories();
            
            // Cacher les suggestions quand on clique ailleurs
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.search-box')) {
                    document.getElementById('suggestions').style.display = 'none';
                }
            });
        });
    </script>
</body>
</html><!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classification RDD par PaT's_PrOjEcT's</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            line-height: 1.6;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        .header {
            background: linear-gradient(135deg, #059669, #047857);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        
        .header h1 {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 3px;
        }
        
        .header .subtitle {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 3px;
        }
        
        .header .description {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .admin-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.2s;
        }
        
        .admin-btn:hover {
            background: rgba(255,255,255,0.3);
        }
        
        .admin-panel {
            background: #f3f4f6;
            border-bottom: 2px solid #d1d5db;
            padding: 15px;
            display: none;
        }
        
        .admin-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .admin-buttons {
            display: grid;
            gap: 10px;
        }
        
        .admin-btn-full {
            padding: 12px 15px;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            font-size: 14px;
        }
        
        .btn-blue {
            background: #3b82f6;
            color: white;
        }
        
        .btn-blue:hover {
            background: #2563eb;
        }
        
        .btn-green {
            background: #059669;
            color: white;
        }
        
        .btn-green:hover {
            background: #047857;
        }
        
        .btn-purple {
            background: #7c3aed;
            color: white;
        }
        
        .btn-purple:hover {
            background: #6d28d9;
        }
        
        .btn-gray {
            background: #6b7280;
            color: white;
        }
        
        .btn-gray:hover {
            background: #4b5563;
        }
        
        .btn-red {
            background: #dc2626;
            color: white;
        }
        
        .btn-red:hover {
            background: #b91c1c;
        }
        
        .stats-box {
            background: white;
            padding: 12px;
            border-radius: 6px;
            font-size: 14px;
            color: #6b7280;
        }
        
        .stats-title {
            font-weight: 600;
            color: #111827;
            margin-bottom: 8px;
        }
        
        .add-product-form {
            background: #eff6ff;
            border-bottom: 2px solid #93c5fd;
            padding: 15px;
            display: none;
        }
        
        .form-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .form-group {
            margin-bottom: 12px;
        }
        
        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 5px;
        }
        
        .form-input, .form-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
        }
        
        .form-buttons {
            display: flex;
            gap: 8px;
            margin-top: 15px;
        }
        
        .custom-products {
            background: #fefce8;
            border-bottom: 2px solid #facc15;
            padding: 15px;
            display: none;
        }
        
        .custom-product {
            background: white;
            padding: 12px;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .custom-product-info {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
        }
        
        .custom-product-icon {
            font-size: 18px;
        }
        
        .custom-product-details {
            flex: 1;
        }
        
        .custom-product-name {
            font-weight: 500;
            margin-bottom: 2px;
        }
        
        .custom-product-desc {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 4px;
        }
        
        .custom-product-category {
            display: inline-block;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
            color: white;
            font-weight: 500;
        }
        
        .delete-btn {
            background: #dc2626;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .delete-btn:hover {
            background: #b91c1c;
        }
        
        .search-box {
            padding: 15px;
            background: #f9f9f9;
        }
        
        .search-container {
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 15px 12px 45px;
            border: 2px solid #d1d5db;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #059669;
            box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1);
        }
        
        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #9ca3af;
            width: 20px;
            height: 20px;
        }
        
        .auto-search-btn {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: #3b82f6;
            color: white;
            border: none;
            padding: 6px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.2s;
            display: none;
        }
        
        .auto-search-btn:hover {
            background: #2563eb;
        }
        
        .auto-search-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }
        
        .loading-indicator {
            margin-top: 12px;
            text-align: center;
            display: none;
        }
        
        .loading-box {
            background: #dbeafe;
            border: 1px solid #93c5fd;
            border-radius: 6px;
            padding: 12px;
        }
        
        .loading-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .loading-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid #3b82f6;
            border-top: 2px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: #1d4ed8;
            font-size: 14px;
        }
        
        .suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            margin-top: 5px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            z-index: 10;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }
        
        .suggestion {
            padding: 12px;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
            transition: background 0.2s;
        }
        
        .suggestion:hover {
            background: #f9fafb;
        }
        
        .suggestion:last-child {
            border-bottom: none;
        }
        
        .suggestion-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .suggestion-icon {
            font-size: 20px;
        }
        
        .suggestion-info {
            flex: 1;
        }
        
        .suggestion-name {
            font-weight: 500;
            margin-bottom: 3px;
        }
        
        .suggestion-desc {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 5px;
        }
        
        .suggestion-badges {
            display: flex;
            gap: 6px;
            align-items: center;
        }
        
        .suggestion-category {
            display: inline-block;
            font-size: 11px;
            padding: 3px 7px;
            border-radius: 10px;
            color: white;
            font-weight: 500;
        }
        
        .auto-added-badge {
            font-size: 10px;
            background: #dcfce7;
            color: #166534;
            padding: 2px 6px;
            border-radius: 8px;
        }
        
        .category-acide { background: #dc2626; }
        .category-base { background: #2563eb; }
        .category-toxique { background: #7c3aed; }
        .category-peinture { background: #059669; }
        .category-huiles { background: #4b5563; }
        .category-organique { background: #0d9488; }
        .category-combustible { background: #dc2626; }
        .category-comburants { background: #ea580c; }
        .category-oxydant { background: #eab308; }
        
        .result-box {
            margin: 15px;
            padding: 15px;
            background: #f0fdf4;
            border: 2px solid #bbf7d0;
            border-radius: 8px;
            display: none;
        }
        
        .result-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }
        
        .result-icon {
            font-size: 32px;
        }
        
        .result-info {
            flex: 1;
        }
        
        .result-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .result-desc {
            color: #6b7280;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .auto-added-result {
            background: #dcfce7;
            color: #166534;
            font-size: 11px;
            padding: 3px 8px;
            border-radius: 12px;
            display: inline-block;
        }
        
        .classification {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #059669;
        }
        
        .classification-title {
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .classification-badge {
            display: inline-block;
            padding: 8px 12px;
            border-radius: 6px;
            color: white;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .classification-desc {
            color: #6b7280;
            font-size: 14px;
            margin-bottom: 15px;
        }
        
        .instructions {
            background: #fefce8;
            border: 1px solid #fde047;
            padding: 12px;
            border-radius: 6px;
        }
        
        .instructions-title {
            font-weight: bold;
            color: #a16207;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .instructions-text {
            font-size: 12px;
            color: #a16207;
        }
        
        .categories {
            padding: 15px;
        }
        
        .categories h2 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #374151;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .category-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
            border-left: 4px solid;
            transition: transform 0.2s;
        }
        
        .category-card:hover {
            transform: translateX(3px);
        }
        
        .category-header {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .category-icon {
            font-size: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        .category-details {
            flex: 1;
        }
        
        .category-name {
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .category-description {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 2px;
        }
        
        .category-count {
            font-size: 12px;
            color: #9ca3af;
        }
        
        .footer {
            background: #f3f4f6;
            padding: 15px;
            text-align: center;
            color: #6b7280;
            font-size: 14px;
        }
        
        .footer p {
            margin-bottom: 5px;
        }
        
        .footer .copyright {
            font-size: 12px;
            color: #9ca3af;
            margin-top: 8px;
        }
        
        .no-results {
            text-align: center;
            padding: 20px;
            color: #666;
            font-style: italic;
        }
        
        .hidden {
            display: none !important;
        }
        
        .file-input {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Classification RDD</h1>
            <p class="subtitle">par PaT's_PrOjEcT's</p>
            <p class="description">R√©sidus domestiques dangereux</p>
            <button class="admin-btn" onclick="toggleAdmin()">‚öôÔ∏è Admin</button>
        </div>

        <!-- Admin Panel -->
        <div class="admin-panel" id="adminPanel">
            <div class="admin-title">‚öôÔ∏è Panneau d'administration</div>
            <div class="admin-buttons">
                <button class="admin-btn-full btn-blue" onclick="toggleAddProduct()">‚ûï Ajouter un produit</button>
                <button class="admin-btn-full btn-green" onclick="exportDatabase()">üì§ Exporter ma base de donn√©es</button>
                <label class="admin-btn-full btn-purple" style="cursor: pointer;">
                    üì• Importer une base de donn√©es
                    <input type="file" class="file-input" accept=".json" onchange="importDatabase(event)">
                </label>
                <div class="stats-box">
                    <div class="stats-title">Classification RDD - PaT's_PrOjEcT's</div>
                    <div>‚Ä¢ Produits par d√©faut: <span id="defaultCount">500</span></div>
                    <div>‚Ä¢ Produits personnalis√©s: <span id="customCount">0</span></div>
                    <div>‚Ä¢ Total: <span id="totalCount">500</span></div>
                    <div class="copyright">¬© 2025 PaT's_PrOjEcT's</div>
                </div>
            </div>
        </div>

        <!-- Add Product Form -->
        <div class="add-product-form" id="addProductForm">
            <h3 class="form-title">‚ûï Ajouter un nouveau produit</h3>
            <div class="form-group">
                <label class="form-label">Nom du produit *</label>
                <input type="text" class="form-input" id="newProductName" placeholder="Ex: WD-40, Roundup, etc.">
            </div>
            <div class="form-group">
                <label class="form-label">Cat√©gorie RDD *</label>
                <select class="form-select" id="newProductCategory">
                    <option value="Acide">üß™ Acide</option>
                    <option value="Base">ü•Ω Base</option>
                    <option value="Comburants">üí• Comburants</option>
                    <option value="Oxydant">üí• Oxydant</option>
                    <option value="Toxique">‚ò†Ô∏è Toxique</option>
                    <option value="Peinture">üé® Peinture</option>
                    <option value="Huiles">üõ¢Ô∏è Huiles</option>
                    <option value="Organique">üß¥ Organique</option>
                    <option value="Combustible">‚õΩ Combustible</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Description *</label>
                <input type="text" class="form-input" id="newProductDesc" placeholder="Ex: D√©grippant lubrifiant, Herbicide glyphosate, etc.">
            </div>
            <div class="form-buttons">
                <button class="admin-btn-full btn-green" onclick="addProduct()" style="flex: 1;">‚úÖ Ajouter</button>
                <button class="admin-btn-full btn-gray" onclick="toggleAddProduct()" style="flex: 1;">‚ùå Annuler</button>
            </div>
        </div>

        <!-- Custom Products Management -->
        <div class="custom-products" id="customProductsPanel">
            <h3 class="form-title">üìù Mes produits personnalis√©s</h3>
            <div id="customProductsList" style="max-height: 200px; overflow-y: auto;"></div>
        </div>

        <!-- Search -->
        <div class="search-box">
            <div class="search-container">
                <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                <input type="text" class="search-input" id="searchInput" 
                       placeholder="Rechercher un produit (ex: WD-40, Roundup...)" 
                       oninput="handleSearch()" onkeypress="handleKeyPress(event)">
                <button class="auto-search-btn" id="autoSearchBtn" onclick="autoSearch()">üåê</button>
            </div>
            
            <div class="loading-indicator" id="loadingIndicator">
                <div class="loading-box">
                    <div class="loading-content">
                        <div class="loading-spinner"></div>
                        <span class="loading-text">Recherche en ligne de "<span id="searchingFor"></span>"...</span>
                    </div>
                </div>
            </div>

            <div class="suggestions" id="suggestions"></div>
        </div>

        <!-- Selected Product Result -->
        <div class="result-box" id="resultBox"></div>

        <!-- Categories -->
        <div class="categories">
            <h2>
                <svg style="width: 20px; height: 20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
                </svg>
                Cat√©gories de disposition
            </h2>
            <div id="categoriesContainer"></div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>üå± Classification RDD par PaT's_PrOjEcT's</p>
            <p>Classification des r√©sidus domestiques dangereux</p>
            <p style="font-size: 12px; margin-top: 8px;">
                Base de donn√©es: <span id="footerTotal">500</span> produits
                <span id="footerCustom"></span>
            </p>
            <p class="copyright">D√©velopp√© par PaT's_PrOjEcT's ¬© 2025</p>
        </div>
    </div>

    <script>
        // Base de donn√©es compl√®te des produits (500+ produits)
        const defaultProducts = [
            // ACIDES (50 produits)
            { name: 'Acide muriatique', category: 'Acide', icon: 'üß™', description: 'Nettoyant pour piscine, acide chlorhydrique' },
            { name: 'Vinaigre blanc concentr√©', category: 'Acide', icon: 'üß™', description: 'Nettoyant m√©nager acide' },
            { name: 'D√©tartrant WC', category: 'Acide', icon: 'üß™', description: 'Nettoyant sanitaire acide' },
            { name: 'Acide sulfurique', category: 'Acide', icon: 'üß™', description: '√âlectrolyte de batterie' },
            { name: 'CLR', category: 'Acide', icon: 'üß™', description: 'Nettoyant calcium, lime, rouille' },
            { name: 'Lime Away', category: 'Acide', icon: 'üß™', description: 'D√©tartrant salle de bain' },
            { name: 'Saniflo Descaler', category: 'Acide', icon: 'üß™', description: 'D√©tartrant pour toilette' },
            { name: 'Acide phosphorique', category: 'Acide', icon: 'üß™', description: 'Antirouille, d√©capant' },
            { name: 'Naval Jelly', category: 'Acide', icon: 'üß™', description: 'D√©capant antirouille' },
            { name: 'Ospho', category: 'Acide', icon: 'üß™', description: 'Neutralisant de rouille' },
            { name: 'Acide nitrique', category: 'Acide', icon: 'üß™', description: 'Gravure m√©taux' },
            { name: 'Acide ac√©tique', category: 'Acide', icon: 'üß™', description: 'Vinaigre fort industriel' },
            { name: 'D√©tartrant Lime-B-Gone', category: 'Acide', icon: 'üß™', description: 'Nettoyant calcaire' },
            { name: 'Acide citrique', category: 'Acide', icon: 'üß™', description: 'D√©tartrant naturel concentr√©' },
            { name: 'Toilet Bowl Cleaner', category: 'Acide', icon: 'üß™', description: 'Nettoyant cuvette WC' },
            { name: 'Lysol Toilet Bowl Cleaner', category: 'Acide', icon: 'üß™', description: 'Nettoyant WC acide' },
            { name: 'The Works', category: 'Acide', icon: 'üß™', description: 'Nettoyant cuvette acide fort' },
            { name: 'Zep Calcium Lime Rust', category: 'Acide', icon: 'üß™', description: 'D√©tartrant professionnel' },
            { name: 'Bar Keepers Friend', category: 'Acide', icon: 'üß™', description: 'Nettoyant acide oxalique' },
            { name: 'Iron Out', category: 'Acide', icon: 'üß™', description: 'Enl√®ve-taches de rouille' },
            { name: 'Whink Rust Stain Remover', category: 'Acide', icon: 'üß™', description: 'Enl√®ve-taches rouille acide' },
            { name: 'Acid Magic', category: 'Acide', icon: 'üß™', description: 'Acide muriatique doux' },
            { name: 'Muriatic Acid Plus', category: 'Acide', icon: 'üß™', description: 'Acide chlorhydrique renforc√©' },
            { name: 'Battery Acid', category: 'Acide', icon: 'üß™', description: 'Acide sulfurique concentr√©' },
            { name: 'Tile & Grout Cleaner', category: 'Acide', icon: 'üß™', description: 'Nettoyant c√©ramique acide' },

            // BASES (50 produits)
            { name: 'Eau de Javel', category: 'Base', icon: 'ü•Ω', description: 'D√©sinfectant chlor√©' },
            { name: 'Javex', category: 'Base', icon: 'ü•Ω', description: 'Eau de javel commerciale' },
            { name: 'Ammoniaque', category: 'Base', icon: 'ü•Ω', description: 'Nettoyant d√©graissant' },
            { name: 'Soude caustique', category: 'Base', icon: 'ü•Ω', description: 'D√©bouchoir chimique' },
            { name: 'Mr. Clean', category: 'Base', icon: 'ü•Ω', description: 'Nettoyant multi-surfaces' },
            { name: 'Ajax', category: 'Base', icon: 'ü•Ω', description: 'Nettoyant abrasif' },
            { name: 'Comet', category: 'Base', icon: 'ü•Ω', description: 'Poudre √† r√©curer' },
            { name: 'Drano', category: 'Base', icon: 'ü•Ω', description: 'D√©bouchoir liquide' },
            { name: 'Liquid Plumr', category: 'Base', icon: 'ü•Ω', description: 'D√©bouchoir de drain' },
            { name: 'Easy-Off', category: 'Base', icon: 'ü•Ω', description: 'Nettoyant four' },
            { name: 'Fantastik', category: 'Base', icon: 'ü•Ω', description: 'D√©graissant multi-usage' },
            { name: 'Formula 409', category: 'Base', icon: 'ü•Ω', description: 'Nettoyant d√©graissant' },
            { name: 'Lysol', category: 'Base',
